schema: '2.0'
stages:
  train_mlflow:
    cmd: python src/train_with_mlflow.py
    deps:
    - path: data/processed/X_test.csv
      hash: md5
      md5: 729aeee5a2370e4d2b89c9f0deef4558
      size: 6382680
    - path: data/processed/X_train.csv
      hash: md5
      md5: 34cc68c9e0dbd52d2a8af62e5fdf6549
      size: 25529770
    - path: data/processed/y_test.csv
      hash: md5
      md5: 1bc41cd1e45eecdbd0023ecd613a3c77
      size: 600008
    - path: data/processed/y_train.csv
      hash: md5
      md5: 4693fe7313b4105f1f9c95dd5fd26bc0
      size: 2400008
    - path: src/train_with_mlflow.py
      hash: md5
      md5: 6e3f7f5c97838a9036d29df759b08261
      size: 5782
    outs:
    - path: mlruns/
      hash: md5
      md5: 516e79595d55b82e13ae2d7e9d981753.dir
      size: 1228891
      nfiles: 87
    - path: models/
      hash: md5
      md5: a671a9866969504b2e6282f9d58b57b4.dir
      size: 994165
      nfiles: 2
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/processed
      hash: md5
      md5: 11b0c890390ffc467abf015b4419723d.dir
      size: 185500
      nfiles: 2
    - path: models/model.pkl
      hash: md5
      md5: 2787edf8d00a86e814449ea02e45d24a
      size: 975810
    - path: src/evaluate.py
      hash: md5
      md5: 4618e4488562448aed1a842f6cc6def6
      size: 2236
    outs:
    - path: reports/confusion_matrix.png
      hash: md5
      md5: cdff585984a9cbb0bf58123b9db29c78
      size: 15990
    - path: reports/metrics.json
      hash: md5
      md5: 21a53db6ef3126cb0cf50be696671e76
      size: 47
  register_model:
    cmd: python src/register_model.py
    deps:
    - path: models/model.pkl
      hash: md5
      md5: 2787edf8d00a86e814449ea02e45d24a
      size: 975810
    - path: reports/metrics.json
      hash: md5
      md5: 21a53db6ef3126cb0cf50be696671e76
      size: 47
    outs:
    - path: registry/model_info.json
      hash: md5
      md5: 10474e72af2d21bc92cf95778fa54e33
      size: 167
